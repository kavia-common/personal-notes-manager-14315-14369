{"is_source_file": true, "format": "TypeScript", "description": "This file provides a client-side service for managing notes, including functions for listing, retrieving, creating, updating, and deleting notes. It supports both local storage and remote API interactions depending on configuration.", "external_files": ["#imports", "$fetch"], "external_methods": ["useRuntimeConfig", "$fetch", "localStorage.getItem", "localStorage.setItem", "crypto.randomUUID"], "published": ["useNotesService"], "classes": [], "methods": [{"name": "listNotes", "description": "Fetches the list of notes either from remote API or local storage, sorted by update time."}, {"name": "getNote", "description": "Retrieves a single note by its ID from either remote API or local storage."}, {"name": "createNote", "description": "Creates a new note with the provided title and content, assigning a unique ID and timestamps."}, {"name": "updateNote", "description": "Updates an existing note's title and content, and updates its timestamp."}, {"name": "deleteNote", "description": "Deletes a note by its ID, either through remote API or locally."}, {"name": "function nowISO() { nowISO", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export function useNotesService() { useNotesService", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["$fetch<Note[]>", "$fetch<Note>", "$fetch<Note>", "$fetch<Note>", "$fetch", "$fetch"], "search-terms": ["notesService", "notes", "localStorage", "remote API", "CRUD", "notes handling", "TypeScript notes service"], "state": 2, "file_id": 9, "knowledge_revision": 20, "git_revision": "", "ctags": [{"_type": "tag", "name": "NOTES_KEY", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14315-14369/notes_frontend/services/notesService.ts", "pattern": "/^const NOTES_KEY = 'notes.data.v1';$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "Note", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14315-14369/notes_frontend/services/notesService.ts", "pattern": "/^export type Note = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "all", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14315-14369/notes_frontend/services/notesService.ts", "pattern": "/^    const all = await listNotes();$/", "language": "TypeScript", "kind": "constant", "scope": "useNotesService", "scopeKind": "function"}, {"_type": "tag", "name": "apiBase", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14315-14369/notes_frontend/services/notesService.ts", "pattern": "/^  const apiBase = (config.public?.apiBase || '').trim();$/", "language": "TypeScript", "kind": "constant", "scope": "useNotesService", "scopeKind": "function"}, {"_type": "tag", "name": "arr", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14315-14369/notes_frontend/services/notesService.ts", "pattern": "/^        const arr = JSON.parse(raw) as Note[];$/", "language": "TypeScript", "kind": "constant", "scope": "useNotesService", "scopeKind": "function"}, {"_type": "tag", "name": "config", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14315-14369/notes_frontend/services/notesService.ts", "pattern": "/^  const config = useRuntimeConfig();$/", "language": "TypeScript", "kind": "constant", "scope": "useNotesService", "scopeKind": "function"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14315-14369/notes_frontend/services/notesService.ts", "pattern": "/^      content: data.content,$/", "language": "TypeScript", "kind": "constant", "scope": "useNotesService", "scopeKind": "function"}, {"_type": "tag", "name": "filtered", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14315-14369/notes_frontend/services/notesService.ts", "pattern": "/^    const filtered = all.filter(n => n.id !== id);$/", "language": "TypeScript", "kind": "constant", "scope": "useNotesService", "scopeKind": "function"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14315-14369/notes_frontend/services/notesService.ts", "pattern": "/^      ...all[idx],$/", "language": "TypeScript", "kind": "constant", "scope": "useNotesService", "scopeKind": "function"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14315-14369/notes_frontend/services/notesService.ts", "pattern": "/^    const idx = all.findIndex(n => n.id === id);$/", "language": "TypeScript", "kind": "constant", "scope": "useNotesService", "scopeKind": "function"}, {"_type": "tag", "name": "note", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14315-14369/notes_frontend/services/notesService.ts", "pattern": "/^    const note: Note = {$/", "language": "TypeScript", "kind": "constant", "scope": "useNotesService", "scopeKind": "function"}, {"_type": "tag", "name": "nowISO", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14315-14369/notes_frontend/services/notesService.ts", "pattern": "/^function nowISO() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14315-14369/notes_frontend/services/notesService.ts", "pattern": "/^      const raw = localStorage.getItem(NOTES_KEY);$/", "language": "TypeScript", "kind": "constant", "scope": "useNotesService", "scopeKind": "function"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14315-14369/notes_frontend/services/notesService.ts", "pattern": "/^      title: data.title,$/", "language": "TypeScript", "kind": "constant", "scope": "useNotesService", "scopeKind": "function"}, {"_type": "tag", "name": "updated", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14315-14369/notes_frontend/services/notesService.ts", "pattern": "/^    const updated: Note = {$/", "language": "TypeScript", "kind": "constant", "scope": "useNotesService", "scopeKind": "function"}, {"_type": "tag", "name": "updatedAt", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14315-14369/notes_frontend/services/notesService.ts", "pattern": "/^      updatedAt: nowISO(),$/", "language": "TypeScript", "kind": "constant", "scope": "useNotesService", "scopeKind": "function"}, {"_type": "tag", "name": "useNotesService", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-14315-14369/notes_frontend/services/notesService.ts", "pattern": "/^export function useNotesService() {$/", "language": "TypeScript", "kind": "function"}], "hash": "1970d0a6e2417168acd41bac04bf022a", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/services/notesService.ts", "revision_history": [{"20": ""}]}